<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>4SP - MLSD DATES</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* --- Base Styles adapted from apps.html --- */
        body {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            margin: 0;
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, #f0f2f5 0%, #e8eaf0 100%);
        }
        .dashboard-container {
            display: flex;
            flex: 1;
        }

        /* --- Sidebar Styles from apps.html --- */
        .sidebar { width: 200px; background: linear-gradient(180deg, #333 0%, #2a2a2a 100%); color: #fff; padding: 20px 10px; display: flex; flex-direction: column; border-right: 1px solid #444; transition: width 0.5s ease-in-out; position: relative; box-shadow: 2px 0 10px rgba(0,0,0,0.1); }
        .sidebar nav ul { list-style: none; padding: 0; margin-top: 60px; }
        .sidebar nav li { margin-bottom: 10px; }
        .sidebar nav a { display: flex; align-items: center; padding: 12px 15px; color: #fff; text-decoration: none; border-radius: 8px; transition: all 0.3s ease; text-transform: uppercase; }
        .sidebar nav a.active, .sidebar nav a:hover { background: linear-gradient(135deg, #6720bd 0%, #8a2be2 100%); transform: translateX(5px); }
        .sidebar nav a .icon { font-size: 1.2em; width: 24px; text-align: center; }
        .sidebar nav a .label { margin-left: 10px; white-space: nowrap; }

        /* --- Main Content & Header Styles from apps.html --- */
        .main-content {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            background: white;
            padding: 20px 30px;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid rgba(103, 32, 189, 0.1);
        }
        .dashboard-title-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .dashboard-title {
            margin: 0;
            font-size: 2.0em;
            font-weight: bold;
            background: linear-gradient(135deg, #6720bd 0%, #8a2be2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* --- Custom Styles for Dates Page --- */
        #disclaimer {
            text-align: center;
            padding: 0.75rem;
            background-color: #fefcbf; /* yellow-100 */
            color: #92400e; /* yellow-800 */
            border-bottom: 2px solid #fBBF24; /* yellow-400 */
        }
        .events-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
        }
        @media (min-width: 1024px) {
            .events-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        .events-column h2 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid;
        }
        .event-card {
            background-color: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 1.5rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.06);
            border: 1px solid #eee;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .event-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        .event-date-box {
            text-align: center;
            font-weight: bold;
            flex-shrink: 0;
            padding: 0.75rem;
            border-radius: 8px;
            width: 70px;
        }
        .event-date-box .month { font-size: 0.8rem; text-transform: uppercase; }
        .event-date-box .day { font-size: 1.75rem; line-height: 1.2; }
        .event-info .event-name { font-weight: 600; font-size: 1.1rem; color: #333; }
        .event-info .event-day { font-size: 0.9rem; color: #666; }

        /* Color theming */
        .upcoming-events .border-b-2 { border-color: #8a2be2; }
        .upcoming-events .event-date-box { background-color: #f3e8ff; color: #6b21a8; }
        .past-events .border-b-2 { border-color: #ccc; }
        .past-events .event-card { background-color: #f9fafb; opacity: 0.8; }
        .past-events .event-date-box { background-color: #e5e7eb; color: #4b5563; }
        .past-events .event-name { text-decoration: line-through; color: #6b7280; }

        .current-date-info { text-align: right; }
        .current-date-info .date-string { font-size: 1.2rem; font-weight: 600; color: #333; }
        .current-date-info .today-event { font-size: 0.9rem; font-weight: 500; color: #8a2be2; margin-top: 4px; }
    </style>
</head>
<body class="dashboard-page">
    
    <div id="disclaimer" class="hidden">
        <p><span class="font-bold">Grade Level Notice:</span> This page is intended for Minerva Middle School students (classes of 2030, 2031, & 2032). Your email suggests you may be in a different grade level.</p>
    </div>

    <div class="dashboard-container">
        <aside class="sidebar">
            <nav>
                <ul>
                    <li><a href="#"><span class="icon">üè†</span><span class="label">Home</span></a></li>
                    <li><a href="#" class="active"><span class="icon">üóìÔ∏è</span><span class="label">Dates</span></a></li>
                    <li><a href="#"><span class="icon">üìö</span><span class="label">Grades</span></a></li>
                    <li><a href="#"><span class="icon">üîî</span><span class="label">Announcements</span></a></li>
                </ul>
            </nav>
        </aside>

        <main class="main-content">
            <header class="dashboard-header">
                <div class="dashboard-title-container">
                    <!-- MLSD Lion Logo SVG -->
                    <svg class="h-12 w-12" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="color: #8a2be2;">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm3.68 14.75c-.32.12-.66.18-1.01.18-1.13 0-2.16-.54-2.78-1.38-.62.84-1.65 1.38-2.78 1.38-.35 0-.69-.06-1.01-.18C6.96 16.35 6 15.05 6 13.5c0-1.87 1.41-3.44 3.25-3.72.1-.01.2-.03.3-.03.25 0 .49.06.71.18.52.28.88.79.94 1.38.1.92-.52 1.76-1.39 2.04-.15.05-.29.07-.44.07-.43 0-.82-.24-1.03-.62-.18-.33-.16-.74.05-1.05.21-.31.57-.49.95-.49.11 0 .22.02.33.05.7.23 1.18.9 1.18 1.67 0 .53-.25.99-.64 1.28-.15.11-.32.17-.5.17-.41 0-.79-.22-1.02-.57-.1-.15-.19-.31-.26-.48-.02-.05-.04-.1-.06-.15-.09-.2-.14-.4-.14-.61 0-.68.39-1.27.96-1.52.1-.04.2-.08.31-.11.45-.14.92-.22 1.4-.22.48 0 .95.08 1.4.22.11.03.21.07.31.11.57.25.96.84.96 1.52 0 .21-.05.41-.14.61l-.06.15c-.07.17-.16.33-.26.48-.23.35-.61.57-1.02.57-.18 0-.35-.06-.5-.17-.39-.29-.64-.75-.64-1.28 0-.77.48-1.44 1.18-1.67.11-.03.22-.05.33-.05.38 0 .74.18.95.49.21.31.23.72.05 1.05-.21.38-.6.62-1.03.62-.15 0-.29-.02-.44-.07-.87-.28-1.49-1.12-1.39-2.04.06-.59.42-1.1.94-1.38.22-.12.46-.18.71-.18.1 0 .2.02.3.03C16.59 10.06 18 11.63 18 13.5c0 1.55-.96 2.85-2.32 3.25z"/>
                    </svg>
                    <h2 class="dashboard-title">Important Dates</h2>
                </div>
                <div id="currentDate" class="current-date-info">
                    <!-- Date will be injected here by JS -->
                </div>
            </header>

            <div class="events-grid">
                <section id="upcomingEventsSection" class="events-column upcoming-events">
                    <h2>Upcoming Events</h2>
                    <div id="upcomingEventsContainer" class="space-y-4"></div>
                </section>
                
                <section id="pastEventsSection" class="events-column past-events">
                    <h2>Past Events</h2>
                    <div id="pastEventsContainer" class="space-y-4"></div>
                </section>
            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- Email Check ---
            function checkUserEmail() {
                const userEmail = prompt("Please enter your school email to verify grade level:", "student30@minerva.sparcc.org");
                if (!userEmail) return; 

                const emailRegex = /.+(\d{2})@minerva\.sparcc\.org$/;
                const match = userEmail.match(emailRegex);

                if (match && match[1]) {
                    const gradeYear = match[1];
                    if (!['30', '31', '32'].includes(gradeYear)) {
                        document.getElementById('disclaimer').classList.remove('hidden');
                    }
                } else {
                    document.getElementById('disclaimer').classList.remove('hidden');
                }
            }
            checkUserEmail();

            // --- Event Data (2025-2026) ---
            const events = [
                { date: "2025-08-18", name: "Back to School Bash 5-7pm" }, { date: "2025-08-20", name: "First Day 6th Grade" }, { date: "2025-08-21", name: "First Day 7th & 8th Grade" },
                { date: "2025-09-01", name: "No School" }, { date: "2025-09-10", name: "Pep Rally" }, { date: "2025-09-12", name: "Kona Ice & Class Trip Roommates" }, { date: "2025-09-19", name: "Interims" }, { date: "2025-09-22", name: "Book Fair" }, { date: "2025-09-23", name: "Book Fair" }, { date: "2025-09-24", name: "Book Fair" }, { date: "2025-09-25", name: "Book Fair" }, { date: "2025-09-26", name: "Book Fair" },
                { date: "2025-10-02", name: "Dunlap Fall Pictures" }, { date: "2025-10-08", name: "6th Grade Camp Deposit Due" }, { date: "2025-10-09", name: "Parent-Teacher Conferences 3:30-8:00" }, { date: "2025-10-10", name: "Kona Ice" }, { date: "2025-10-13", name: "No School" }, { date: "2025-10-21", name: "7th & 8th Class Trip" }, { date: "2025-10-22", name: "7th & 8th Class Trip" }, { date: "2025-10-23", name: "7th & 8th Class Trip" }, { date: "2025-10-24", name: "No School" }, { date: "2025-10-27", name: "Pink Week Spirit Days" }, { date: "2025-10-28", name: "Pink Week Spirit Days" }, { date: "2025-10-29", name: "Pink Week Spirit Days" }, { date: "2025-10-30", name: "Pink Week Spirit Days" }, { date: "2025-10-31", name: "Pink Week, Costume Dress Up & Report Cards" },
                { date: "2025-11-05", name: "Island Delight" }, { date: "2025-11-11", name: "Veteran's Day Assembly" }, { date: "2025-11-12", name: "Interims" }, { date: "2025-11-26", name: "No School" }, { date: "2025-11-27", name: "No School" }, { date: "2025-11-28", name: "No School (Thanksgiving)" },
                { date: "2025-12-01", name: "No School" }, { date: "2025-12-09", name: "Retake Picture Day" }, { date: "2025-12-10", name: "Island Delight" }, { date: "2025-12-11", name: "Band & Choir Concert 6:30pm" }, { date: "2025-12-15", name: "Days of Giving/Spirit Week" }, { date: "2025-12-16", name: "Days of Giving/Spirit Week" }, { date: "2025-12-17", name: "Days of Giving/Spirit Week" }, { date: "2025-12-18", name: "Days of Giving/Spirit Week" }, { date: "2025-12-19", name: "Days of Giving/Spirit Week & Lip Sync" }, { date: "2025-12-22", name: "No School" }, { date: "2025-12-23", name: "No School" }, { date: "2025-12-24", name: "No School" }, { date: "2025-12-25", name: "No School" }, { date: "2025-12-26", name: "No School" }, { date: "2025-12-27", name: "No School" }, { date: "2025-12-28", name: "No School" }, { date: "2025-12-29", name: "No School" }, { date: "2025-12-30", name: "No School" }, { date: "2025-12-31", name: "No School" },
                { date: "2026-01-07", name: "No School" }, { date: "2026-01-14", name: "Island Delight" }, { date: "2026-01-19", name: "No School" }, { date: "2026-01-23", name: "Activity Pictures/Pep Rally" }, { date: "2026-01-26", name: "Report Cards & 8th Grade MHS Open House" },
                { date: "2026-02-05", name: "Parent Teacher Conferences" }, { date: "2026-02-06", name: "6th Grade Camp Payment Due" }, { date: "2026-02-11", name: "Spelling Bee 6pm" }, { date: "2026-02-13", name: "Interims & Island Delight" }, { date: "2026-02-16", name: "No School" }, { date: "2026-02-27", name: "Sweetheart Dance" },
                { date: "2026-03-04", name: "Band Concert 7pm" }, { date: "2026-03-07", name: "8th Class Picture 9:30am" }, { date: "2026-03-10", name: "Musical Picture 1:30pm" }, { date: "2026-03-13", name: "Musical 6:30pm" }, { date: "2026-03-20", name: "Kona Ice" }, { date: "2026-03-23", name: "Spring Spirit Week" }, { date: "2026-03-24", name: "Spring Spirit Week" }, { date: "2026-03-25", name: "Spring Spirit Week" }, { date: "2026-03-26", name: "Spring Spirit Week" }, { date: "2026-03-27", name: "Spring Spirit Week, Report Cards & Staff vs Student Game" }, { date: "2026-03-30", name: "Spring Break" }, { date: "2026-03-31", name: "Spring Break" },
                { date: "2026-04-01", name: "Spring Break" }, { date: "2026-04-02", name: "Spring Break" }, { date: "2026-04-03", name: "Spring Break" }, { date: "2026-04-08", name: "6th Camp Meeting 6pm" }, { date: "2026-04-10", name: "Dunlap Spring Pictures" }, { date: "2026-04-14", name: "Kona Ice" }, { date: "2026-04-16", name: "OST ELA Part 1" }, { date: "2026-04-21", name: "OST ELA Part 2" }, { date: "2026-04-22", name: "OST Math Part 1 & 2 & Interims" }, { date: "2026-04-24", name: "OST Science" },
                { date: "2026-05-01", name: "6th Grade Sports Physicals" }, { date: "2026-05-07", name: "Band Concert 7pm" }, { date: "2026-05-08", name: "6th Grade Camp" }, { date: "2026-05-12", name: "7-8 Sports Physicals" }, { date: "2026-05-15", name: "Choir Concert 7pm" }, { date: "2026-05-19", name: "Kona Ice" }, { date: "2026-05-25", name: "8th Honors Night 7pm" }, { date: "2026-05-26", name: "No School" }, { date: "2026-05-28", name: "Chromebook turn in" }, { date: "2026-05-29", name: "8th Grade Cedar Point & End of Year Celebration" }
            ];

            const today = new Date();
            today.setHours(0, 0, 0, 0); 
            const todayISO = today.toISOString().split('T')[0];

            const currentDateElem = document.getElementById('currentDate');
            const upcomingContainer = document.getElementById('upcomingEventsContainer');
            const pastContainer = document.getElementById('pastEventsContainer');
            
            // --- Date and Header ---
            const todaysEvent = events.find(event => event.date === todayISO);
            const dateOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            currentDateElem.innerHTML = `
                <div class="date-string">${today.toLocaleDateString('en-US', dateOptions)}</div>
                ${todaysEvent ? `<div class="today-event">Today: ${todaysEvent.name}</div>` : ''}
            `;

            // --- Sort and Render Events ---
            const upcomingEvents = [];
            const pastEvents = [];

            events.forEach(event => {
                const eventDate = new Date(event.date + 'T00:00:00');
                if (eventDate >= today) {
                    upcomingEvents.push(event);
                } else {
                    pastEvents.push(event);
                }
            });

            // Sort past events in descending order (most recent first)
            pastEvents.sort((a, b) => new Date(b.date) - new Date(a.date));

            upcomingEvents.forEach(event => renderEvent(event, upcomingContainer));
            pastEvents.forEach(event => renderEvent(event, pastContainer));

            if (upcomingEvents.length === 0) {
                upcomingContainer.innerHTML = '<p class="text-gray-500 p-4 text-center">No upcoming events found.</p>';
            }
            if (pastEvents.length === 0) {
                pastContainer.innerHTML = '<p class="text-gray-500 p-4 text-center">No past events to show yet.</p>';
            }
        });

        function renderEvent(eventData, container) {
            const date = new Date(eventData.date + 'T00:00:00');
            const day = date.getDate();
            const month = date.toLocaleString('en-US', { month: 'short' });
            const weekday = date.toLocaleString('en-US', { weekday: 'long' });

            const card = document.createElement('div');
            card.className = 'event-card';
            card.innerHTML = `
                <div class="event-date-box">
                    <div class="month">${month}</div>
                    <div class="day">${day}</div>
                </div>
                <div class="event-info">
                    <p class="event-name">${eventData.name}</p>
                    <p class="event-day">${weekday}</p>
                </div>
            `;
            container.appendChild(card);
        }
    </script>
</body>
</html>

