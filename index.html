<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Project Title</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <script src="activator-mini.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
    <script src="firebase-config.js"></script>
</head>
<body>
    <div id="binary-background"></div>

    <main>
        <section class="hero-section">
            <div class="container">
                <h1>Your Project Title</h1>
            </div>
        </section>

        <header class="main-header">
            <div class="container">
                <div class="logo">
                    <img src="images/logo-light.png" alt="Your Logo">
                </div>
                <nav class="main-nav">
                    <ul id="mainNavLinks">
                        <li class="dropdown" id="more-dropdown">
                            <a class="dropbtn">MORE</a>
                        </li>
                        <li class="logged-in-link" style="display: none;"><a href="logged-in/dashboard.html">DASHBOARD</a></li>
                    </ul>
                </nav>
                <div class="auth-buttons" id="authButtons">
                    </div>
            </div>
        </header>

        <section class="news-bar">
            <div class="container">
                <p>Your Quick Annoucement or Tagline Here</p>
            </div>
        </section>

        <div class="main-page-content-wrapper">
            <section class="hp-infra-section">
                <div class="container">
                    <h2>Catchy Tagline Or Statistic</h2>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
                </div>
            </section>

            <section class="info-sections">
                <div class="container">
                    <div class="info-item left-image">
                        <div class="info-content">
                            <h3>ABOUT US</h3>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation.</p>
                        </div>
                    </div>
                    <div class="info-item right-image">
                        <div class="info-content">
                            <h3>CORE FEATURE</h3>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation.</p>
                        </div>
                    </div>
                    <div class="info-item left-image">
                        <div class="info-content">
                            <h3>ANOTHER FEATURE</h3>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation.</p>
                        </div>
                    </div>
                </div>
            </section>

            <section class="timeline-section">
                <div class="container">
                    <h2>VERSION HISTORY</h2>
                    <div class="timeline-container">
                        <div class="timeline-wrapper">
                            <div class="timeline-item" onclick="showVersionDetails('v1', event)">
                                <div class="timeline-circle"></div>
                                <div class="timeline-item-content">
                                    <h3>Version 1</h3>
                                    <p>March 13th, 2025</p>
                                </div>
                            </div>
                            <div class="timeline-item" onclick="showVersionDetails('v2', event)">
                                <div class="timeline-circle"></div>
                                <div class="timeline-item-content">
                                    <h3>Version 2</h3>
                                    <p>April 11th, 2025</p>
                                </div>
                            </div>
                            <div class="timeline-item" onclick="showVersionDetails('v3', event)">
                                <div class="timeline-circle"></div>
                                <div class="timeline-item-content">
                                    <h3>Version 3</h3>
                                    <p>May 14th, 2025</p>
                                </div>
                            </div>
                            <div class="timeline-item" onclick="showVersionDetails('v4', event)">
                                <div class="timeline-circle"></div>
                                <div class="timeline-item-content">
                                    <h3>Version 4</h3>
                                    <p>August 23rd, 2025</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="whats-new-section">
                <div class="container">
                    <h2>WHAT'S NEW</h2>
                    <div class="whats-new-content">
                        <p>
                           Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
                        </p>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Your Company Name. All rights reserved.</p>
        </div>
    </footer>

    <div id="mobile-warning-overlay">
        <div class="warning-box">
            <h2>Desktop Recommended</h2>
            <p>This website is best viewed on a desktop or in landscape mode. Some features may not work as expected on a mobile device.</p>
            <button id="continue-btn">Continue Anyway</button>
        </div>
    </div>

    <div id="versionModalBackdrop" class="modal-backdrop"></div>
    <div id="versionModal" class="version-modal">
        <div id="modalInnerContent" class="modal-inner-content">
            <button id="closeModalBtn" class="close-btn">&times;</button>
            <h3 id="modalTitle"></h3>
            <p id="modalStartDate"></p>
            <p id="modalCreationDate"></p>
            <p id="modalDescription"></p>
            <a id="modalRedirectBtn" href="#" target="_blank" rel="noopener noreferrer" class="modal-redirect-btn">Visit Version</a>
        </div>
    </div>

    <div class="dropdown-content" id="more-menu-content">
        <div class="dropdown-header">MORE</div>
        <hr class="dropdown-divider">
        <a href="the-story.html">THE STORY</a>
        <a href="legal.html">LEGAL</a>
        <a href="https://buymeacoffee.com/your-link" target="_blank" rel="noopener noreferrer">DONATE</a>
    </div>

    <script>
        // --- BINARY BACKGROUND FADE SCRIPT ---
        window.addEventListener('scroll', () => {
            const background = document.getElementById('binary-background');
            const scrollPosition = window.scrollY;
            const fadeThreshold = 500; // The scroll distance (in pixels) over which the background fades completely.
            
            if (scrollPosition < fadeThreshold) {
                const opacity = 1 - (scrollPosition / fadeThreshold);
                background.style.opacity = opacity;
            } else {
                background.style.opacity = 0;
            }
        });

        // --- TIMELINE MODAL SCRIPT ---
        const versionDetails = {
            v1: {
                title: 'Version 1 Details',
                startDate: '<strong>Started:</strong> March 8th, 2025',
                creationDate: '<strong>Released:</strong> March 13th, 2025',
                description: 'This is placeholder text for the initial version. Describe the key features and goals of this release.',
                url: '#' // Use a real URL or '#' to hide the button
            },
            v2: {
                title: 'Version 2 Details',
                startDate: '<strong>Started:</strong> March 21th, 2025',
                creationDate: '<strong>Released:</strong> April 11th, 2025',
                description: 'This is placeholder text for the second version. Explain the major updates and improvements introduced here.',
                url: '#'
            },
            v3: {
                title: 'Version 3 Details',
                startDate: '<strong>Started:</strong> May 7th, 2025',
                creationDate: '<strong>Released:</strong> May 14th, 2025',
                description: 'This is placeholder text for the third version. Detail the new features and any redesigns that occurred.',
                url: '#'
            },
            v4: {
                title: 'Version 4 Details',
                startDate: '<strong>Started:</strong> May 26th, 2025',
                creationDate: '<strong>Released:</strong> August 23rd, 2025',
                description: 'This is placeholder text for the current version. Summarize the most recent and significant changes.',
                url: '#'
            }
        };
        
        // The rest of your original JavaScript for the modal, auth, and dropdowns follows...
        // No changes were needed for the core functionality of these scripts.
        const modal = document.getElementById('versionModal');
        const backdrop = document.getElementById('versionModalBackdrop');
        const closeModalBtn = document.getElementById('closeModalBtn');
        let activeCircle = null;
        let activeModal = false;

        function showVersionDetails(versionKey, event) {
            if (activeModal) return;
            activeModal = true;
            const details = versionDetails[versionKey];
            activeCircle = event.currentTarget.querySelector('.timeline-circle');
            if (!details || !activeCircle) {
                activeModal = false;
                return;
            }
            const initialRect = activeCircle.getBoundingClientRect();
            document.getElementById('modalTitle').innerText = details.title;
            document.getElementById('modalStartDate').innerHTML = details.startDate;
            document.getElementById('modalCreationDate').innerHTML = details.creationDate;
            document.getElementById('modalDescription').innerText = details.description;
            const redirectBtn = document.getElementById('modalRedirectBtn');
            redirectBtn.href = details.url;
            redirectBtn.style.display = details.url === '#' ? 'none' : 'inline-block';
            modal.style.transition = 'none';
            const initialTop = initialRect.top + window.scrollY;
            const initialLeft = initialRect.left + window.scrollX;
            modal.style.top = `${initialTop}px`;
            modal.style.left = `${initialLeft}px`;
            modal.style.width = `${initialRect.width}px`;
            modal.style.height = `${initialRect.height}px`;
            modal.style.borderRadius = '50%';
            const innerContent = modal.querySelector('.modal-inner-content');
            innerContent.style.opacity = 0;
            modal.classList.add('visible');
            backdrop.classList.add('show');
            requestAnimationFrame(() => {
                modal.style.transition = 'width 0.4s ease, height 0.4s ease, top 0.4s ease, left 0.4s ease, border-radius 0.4s ease';
                const finalWidth = 320;
                const finalHeight = 280;
                modal.style.width = `${finalWidth}px`;
                modal.style.height = `${finalHeight}px`;
                modal.style.borderRadius = '16px';
                modal.style.top = `${window.scrollY + (window.innerHeight / 2) - (finalHeight / 2)}px`;
                let targetLeft = initialLeft - (finalWidth / 2) + (initialRect.width / 2);
                if (targetLeft < 20) targetLeft = 20;
                if (targetLeft + finalWidth > window.innerWidth - 20) targetLeft = window.innerWidth - finalWidth - 20;
                modal.style.left = `${targetLeft}px`;
                setTimeout(() => {
                    innerContent.style.transition = 'opacity 0.3s ease';
                    innerContent.style.opacity = 1;
                }, 300);
            });
        }

        function hideVersionDetails() {
            if (!activeModal) return;
            const innerContent = modal.querySelector('.modal-inner-content');
            innerContent.style.transition = 'opacity 0.1s ease';
            innerContent.style.opacity = 0;
            backdrop.classList.remove('show');
            setTimeout(() => {
                modal.style.transition = 'width 0.4s ease, height 0.4s ease, top 0.4s ease, left 0.4s ease, border-radius 0.4s ease';
                const currentRect = activeCircle.getBoundingClientRect();
                modal.style.top = `${currentRect.top + window.scrollY}px`;
                modal.style.left = `${currentRect.left + window.scrollX}px`;
                modal.style.width = `${currentRect.width}px`;
                modal.style.height = `${currentRect.height}px`;
                modal.style.borderRadius = '50%';
            }, 100);
            setTimeout(() => {
                modal.classList.remove('visible');
                activeCircle = null;
                activeModal = false;
            }, 500);
        }
        closeModalBtn.addEventListener('click', hideVersionDetails);
        backdrop.addEventListener('click', hideVersionDetails);

        (function() {
            const forceLogoutKey = 'forceLogoutCompleted_v1';
            if (!localStorage.getItem(forceLogoutKey)) {
                console.log('Performing one-time force logout...');
                const unsubscribe = firebase.auth().onAuthStateChanged(user => {
                    unsubscribe();
                    if (user) {
                        firebase.auth().signOut().then(() => {
                            localStorage.setItem(forceLogoutKey, 'true');
                            window.location.reload();
                        }).catch(error => {
                            console.error('Force logout failed:', error);
                            localStorage.setItem(forceLogoutKey, 'true');
                            window.location.reload();
                        });
                    } else {
                        localStorage.setItem(forceLogoutKey, 'true');
                    }
                });
            }
        })();

        const authButtonsDiv = document.getElementById('authButtons');
        const loggedInLinks = document.querySelectorAll('.logged-in-link');
        firebase.auth().onAuthStateChanged(user => {
            authButtonsDiv.innerHTML = '';
            if (user) {
                authButtonsDiv.innerHTML = `<a href="#" class="btn btn-logout" onclick="firebase.auth().signOut()">LOGOUT</a>`;
                loggedInLinks.forEach(link => link.style.display = 'inline-block');
            } else {
                authButtonsDiv.innerHTML = `<a href="login.html" class="btn btn-login">LOGIN</a> <a href="signup.html" class="btn btn-signup">SIGN UP</a>`;
                loggedInLinks.forEach(link => link.style.display = 'none');
            }
        });

        document.addEventListener('DOMContentLoaded', () => {
            const dropdownTrigger = document.getElementById('more-dropdown');
            const dropdownContent = document.getElementById('more-menu-content');
            if (dropdownTrigger && dropdownContent) {
                let hideTimeout;
                const showMenu = () => {
                    clearTimeout(hideTimeout);
                    const rect = dropdownTrigger.getBoundingClientRect();
                    dropdownContent.style.top = `${window.scrollY + rect.bottom + 10}px`;
                    dropdownContent.style.left = `${rect.left}px`;
                    dropdownContent.classList.add('show');
                };
                const hideMenu = () => {
                    hideTimeout = setTimeout(() => dropdownContent.classList.remove('show'), 200);
                };
                dropdownTrigger.addEventListener('mouseenter', showMenu);
                dropdownTrigger.addEventListener('mouseleave', hideMenu);
                dropdownContent.addEventListener('mouseenter', () => clearTimeout(hideTimeout));
                dropdownContent.addEventListener('mouseleave', hideMenu);
            }
            const overlay = document.getElementById('mobile-warning-overlay');
            const continueBtn = document.getElementById('continue-btn');
            function checkAspectRatio() {
                if (window.innerWidth / window.innerHeight <= 1) {
                    overlay.style.display = 'flex';
                    document.body.classList.add('no-scroll');
                }
            }
            function hideOverlay() {
                overlay.style.display = 'none';
                document.body.classList.remove('no-scroll');
            }
            checkAspectRatio();
            if (continueBtn) {
                continueBtn.addEventListener('click', hideOverlay);
            }
        });
    </script>
</body>
</html>
